<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .box {
            position: fixed;
            height:300px;
            top:0;
            background: yellow;
            width:100%;

        }
    </style>
</head>
<body>
    <div class="box"></div>
</body>
</html>
<script>
  // let p = new Promise(() =>{})
  // console.log(p)

  // let p = new Promise((resolve, reject) => {
  //     setTimeout(reject, 10000)
  //     console.log('执行函数逻辑')
  // })
  // setTimeout(console.log, 0, p)
  // setTimeout(console.log, 11000,p)
  //
  // Promise.resolve(3).then(res => {
  //     console.log(res)
  // })

  // Promise.resolve(new Error('错误日志')).then(res => {
  //     console.log(res)
  // })
  //
  // Promise.reject('error').then(null, err => {
  //     console.log(err)
  // })
  // let syncResolve;
  // let p = new Promise(resolve => {
  //     syncResolve = function() {
  //         console.log('1')
  //         resolve()
  //         console.log('2')
  //     }
  // })
  // p.then(res => {
  //     console.log('4')
  // })
  // syncResolve()
  // console.log('3')

//   let p = new Promise((resolve, reject) => {
//       try{
//           throw Error('foo')
//       }catch (e) {
//           resolve('bar')
//       }
//   })
// p.then(res => {
//     console.log(res)
// }, err => {
//     console.error(err)
// })

//   let p = new Promise((resolve,reject) => {
//       console.log('first')
//       resolve('first')
//   })
//   p.then(res => {
//       let result = `${res}-second`
//       console.log(result)
//       return result;
//   }).then(res => {
//       let result = `${res}-third`
//       console.log(result)
//       return result
//   }).then(res => {
//       console.log(`${res}-four`)
//   })
//
//   let A = new Promise(resolve => {
//       resolve('A')
//   })
//
//   let B = A.then(res => {
// 	  console.log(res)
//       return 'B'
//   })
//   let C = B.then(res => {
// 	  console.log(res)
//       return 'C'
//   })
//   C.then(res => {
// 	  console.log(res)
// 	  console.log('over')
//   })
//
//   let p3 = Promise.all([
// 	Promise.resolve(5),
//     Promise.reject(6),
//     Promise.resolve(7)
//   ])
// p3.then(res => {
// 	console.log(res)
// }).catch(err => {
// 	console.log(`err=${err}`)
// // })
//   async function foo() {
// 	  console.log(1)
//       return 3
//   }
//   foo().then(console.log)


  // async function foo() {
	//   console.log(1)
  //     Promise.reject(3)
  // }
  //
  // foo().catch(console.log)
  // console.log(2)

  // async function bar() {
	//   console.log(1)
	//   console.log(3)
	//   return  Promise.resolve(2)
  // }
  //
  // bar().then(res => {
	//   console.log(`res=${res}`)
	//   console.log(4)
  // })

  // async function foo() {
	//   console.log(await Promise.resolve('foo'))
  // }
  // async function bar() {
	//   console.log(await 'bar')
  // }
  // async function baz() {
	//   console.log('baz')
  // }
  //
  // foo()
  // bar()
  // baz()

  console.log('实现sleep')

  async function sleep(delay) {
	  return new Promise(resolve => {
		  setTimeout(resolve, delay)
      })
  }

  async function foo() {
	  const t0 = Date.now()
      await  sleep(1500)
      await  sleep(1500)
	  console.log(Date.now() - t0)
  }

  console.log('start')
  foo()
  console.log('end')


</script>
